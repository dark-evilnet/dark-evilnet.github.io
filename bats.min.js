var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

! function (n) {
    "use strict";
    n.fn.halloweenBats = function (t) {
        var i, o, a = [],
            e = n("body"),
            r = e.innerWidth(),
            h = e.innerHeight(),
            s = {
                image: "bats.png",
                zIndex: 1e4,
                amount: 3,
                width: 35,
                height: 20,
                frames: 4,
                speed: 20,
                flickering: 15
            };
        for (t = n.extend({}, s, t), i = function () {
                var i, o, a, s, d, m, l, p = this,
                    c = n('<div class="halloweenBat"/>');
                p.randomPosition = function (n) {
                    var i, o;
                    return "horizontal" === n ? (i = r, o = t.width) : (i = h, o = t.height), Math.random() * (i - o)
                }, p.applyPosition = function () {
                    c.css({
                        left: i + "px",
                        top: o + "px"
                    })
                }, p.move = function () {
                    var n, e, l, c, u, f, g;
                    n = a - i, e = s - o, l = Math.sqrt(n * n + e * e), l = Math.max(1, l), c = t.speed * (n / l), u = t.speed * (e / l), f = (c - d) / t.flickering, g = (u - m) / t.flickering, d += f, m += g, i += d, o += m, i = Math.max(0, Math.min(i, r - t.width)), o = Math.max(0, Math.min(o, h - t.height)), p.applyPosition(), Math.random() > .95 && (a = p.randomPosition("horizontal"), s = p.randomPosition("vertical"))
                }, p.animate = function () {
                    l += 1, l >= t.frames && (l -= t.frames), c.css("backgroundPosition", "0 " + l * -t.height + "px")
                }, i = p.randomPosition("horizontal"), o = p.randomPosition("vertical"), a = p.randomPosition("horizontal"), s = p.randomPosition("vertical"), d = -5 + 10 * Math.random(), m = -5 + 10 * Math.random(), l = Math.random() * t.frames, l = Math.round(l), e.append(c), c.css({
                    position: "absolute",
                    left: i + "px",
                    top: o + "px",
                    zIndex: t.zIndex,
                    width: t.width + "px",
                    height: t.height + "px",
                    backgroundImage: "url(" + t.image + ")",
                    backgroundRepeat: "no-repeat"
                }), window.setInterval(p.move, 40), window.setInterval(p.animate, 200)
            }, o = 0; o < t.amount; ++o) a.push(new i);
        n(window).resize(function () {
            r = e.innerWidth(), h = e.innerHeight()
        })
    }
}(jQuery);

}
